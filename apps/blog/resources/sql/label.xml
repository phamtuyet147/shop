<?xml version="1.0" encoding="UTF-8" ?>
<statements xmlns="http://linhnv.xyz/app.sql">

    <getAllLabels>
        SELECT *
        FROM label
        ORDER BY title
    </getAllLabels>

    <getArticleLabels>
        SELECT
            l.cd_tag,
            l.title
        FROM label l, article_label a
        WHERE a.id_article = ? AND l.cd_tag = a.cd_tag
        ORDER BY l.title
    </getArticleLabels>

    <getLabelByTagName>
        SELECT *
        FROM label
        WHERE cd_tag = ?
        LIMIT 1
    </getLabelByTagName>

    <createLabel>
        INSERT INTO label (cd_tag, title) VALUES (?, ?)
    </createLabel>

    <updateLabel>
        UPDATE label
        SET title = ?
        WHERE cd_tag = ?
    </updateLabel>

    <deleteLabel>
        DELETE FROM label
        WHERE cd_tag = ?
    </deleteLabel>

    <createArticleLabel>
        INSERT INTO article_label (id_article, cd_tag) VALUES (?, ?)
    </createArticleLabel>

    <deleteArticleLabel>
        DELETE FROM article_label
        WHERE id_article = ?
    </deleteArticleLabel>

</statements>